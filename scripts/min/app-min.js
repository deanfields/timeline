var slideout=new Slideout({panel:document.getElementById("main-content"),menu:document.getElementById("menu"),padding:256,tolerance:70,side:"right"});document.querySelector(".mast__slideout-button").addEventListener("click",function(){slideout.toggle()}),slideout.on("beforeopen",function(){document.querySelector(".mast").className+=" mast--menu-open"}),slideout.on("beforeclose",function(){document.querySelector(".mast").className="mast"}),document.querySelector(".slideout-menu").addEventListener("click",function(e){"A"===e.target.nodeName&&slideout.close()}),$(function(){"use strict";var e=document.querySelectorAll(".timeline__slide"),t=document.getElementById("date_stat"),o=document.getElementById("launch_stat"),n=document.getElementById("users_stat"),i=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onLeave"}});i.scrollTo(function(e){TweenMax.to(window,.5,{scrollTo:{y:e,autokill:!0},ease:Cubic.easeInOut})});var l=new ScrollMagic.Controller({globalSceneOptions:{duration:$(".slide").height(),triggerHook:.025,reverse:!0}});$(document).on("click","a[href^=#]",function(e){e.preventDefault();var t=$(this),o=t.attr("href"),n=$(o).position().top;return console.log(n),n>$(window).height(),console.log(n),TweenMax.to(window,1,{scrollTo:{y:n,autoKill:!1},ease:Power3.easeOut}),!1}),enquire.register("screen and (min-width:699px)",{match:function(){i=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onLeave"}}),i.scrollTo(function(e){TweenMax.to(window,.5,{scrollTo:{y:e,autokill:!0,interrupt:!0},ease:Cubic.easeInOut})}),l=new ScrollMagic.Controller({globalSceneOptions:{duration:$(".timeline__slide").height(),triggerHook:.025,reverse:!0}});for(var r=0;r<e.length;r++){var a=new ScrollMagic.Scene({triggerElement:"#slide-"+r}).setClassToggle("#anchor-"+r,"active").addTo(l),c=new TimelineMax;c.add(TweenMax.to(t,.1,{text:e[r].getAttribute("data-date")}),"0"),c.add(TweenMax.to(o,.2,{text:e[r].getAttribute("data-launched")}),"0"),c.add(TweenMax.to(n,.2,{text:e[r].getAttribute("data-users")}),"0");var d=window.innerHeight-window.innerHeight/2-155+"px";new ScrollMagic.Scene({triggerElement:e[r],triggerHook:"onEnter",offset:"-"+d}).addTo(i).setTween(c),new ScrollMagic.Scene({triggerElement:e[r]}).setPin(e[r]).addTo(i)}$(document).on("click","a[href^=#]",function(e){var t=$(this).attr("href");$(t).length>0&&(e.preventDefault(),i.scrollTo(t),window.history&&window.history.pushState&&history.pushState("",document.title,t))}),$(document).on("click","#prevSlide",function(e){e.preventDefault();var t=$(".timeline-navigation .active"),o=t.index()-1;i.scrollTo("#slide-"+o),window.history&&window.history.pushState&&history.pushState("",document.title,"#slide-"+o)}),$(document).on("click","#nextSlide",function(e){e.preventDefault();var t=$(".timeline-navigation .active"),o=t.index()+1;i.scrollTo("#slide-"+o),window.history&&window.history.pushState&&history.pushState("",document.title,"#slide-"+o)})},unmatch:function(){i.destroy(!0),$(document).on("click","a[href^=#]",function(e){e.preventDefault();var t=$(this),o=t.attr("href"),n=$(o).position().top;return n>$(window).height()&&(n+=94),TweenMax.to(window,1,{scrollTo:{y:n,autoKill:!1},ease:Power3.easeOut}),!1})}})}),$("body").keydown(function(e){38==e.keyCode&&e.preventDefault(),40==e.keyCode&&e.preventDefault(),32==e.keyCode&&e.preventDefault()});